{
  "$schema": "https://raw.githubusercontent.com/Azure/CanadaPubSecALZ/main/schemas/latest/landingzones/lz-platform-logging.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "serviceHealthAlerts": {
      "value": {
        "receivers": {
          "email": [
            "logging@example.com"
          ],
          "app": [
            "logging@example.com"
          ],
          "sms": [
            {
              "countryCode": "1",
              "phoneNumber": "6135555555"
            }
          ],
          "voice": [
            {
              "countryCode": "1",
              "phoneNumber": "6135555555"
            }
          ]
        },
        "alertRuleName": "Logging Alerts",
        "incidentTypes": [
          "Incident",
          "Security"
        ],
        "regions": [
          "Global",
          "Canada Central",
          "Canada East"
        ],
        "resourceGroupName": "service-health-alerts-rg",
        "alertRuleDescription": "Logging Alerts for Incidents and Security",
        "actionGroupShortName": "logging-ag",
        "actionGroupName": "Logging Alerts"
      }
    },
    "securityCenter": {
      "value": {
        "email": "security@example.com",
        "phone": "6135555555"
      }
    },
    "subscriptionRoleAssignments": {
      "value": [
        {
          "securityGroupObjectIds": [
            "558bb757-0c38-4a0d-b8e5-4e3a4e577966"
          ],
          "roleDefinitionId": "b24988ac-6180-42a0-ab88-20f7382dd24c",
          "comments": "Built-in Contributor Role"
        }
      ]
    },
    "subscriptionBudget": {
      "value": {
        "createBudget": false
      }
    },
    "subscriptionTags": {
      "value": {
        "ISSO": "isso-tbd"
      }
    },
    "resourceTags": {
      "value": {
        "ClientOrganization": "client-organization-tag",
        "CostCenter": "cost-center-tag",
        "DataSensitivity": "data-sensitivity-tag",
        "ProjectContact": "project-contact-tag",
        "ProjectName": "project-name-tag",
        "TechnicalContact": "technical-contact-tag"
      }
    },
    "logAnalyticsResourceGroupName": {
      "value": "pubsec-central-logging"
    },
    "logAnalyticsWorkspaceName": {
      "value": "log-analytics-workspace"
    },
    "logAnalyticsRetentionInDays": {
      "value": 730
    },
    "logAnalyticsAutomationAccountName": {
      "value": "automation-account"
    },
    "dataCollectionRule": {
      "value": {
        "enabled": false,
        "name": "DCR-AzureMonitorLogs",
        "windowsEventLogs": [
          {
            "streams": [
              "Microsoft-Event"
            ],
            "xPathQueries": [
              "Application!*[System[(Level=1 or Level=2 or Level=3)]]",
              "Security!*[System[(band(Keywords,13510798882111488))]]",
              "System!*[System[(Level=1 or Level=2 or Level=3)]]"
            ],
            "name": "eventLogsDataSource"
          }
        ],
        "syslog": [
          {
            "streams": [
              "Microsoft-Syslog"
            ],
            "facilityNames": [
              "auth",
              "authpriv",
              "cron",
              "daemon",
              "mark",
              "kern",
              "local0",
              "local1",
              "local2",
              "local3",
              "local4",
              "local5",
              "local6",
              "local7",
              "lpr",
              "mail",
              "news",
              "syslog",
              "user",
              "uucp"
            ],
            "logLevels": [
              "Warning",
              "Error",
              "Critical",
              "Alert",
              "Emergency"
            ],
            "name": "sysLogsDataSource"
          }
        ]
      }
    }
  }
}
