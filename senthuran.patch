From 7cc2f79aa522ab299325a1dbdf74a8b84240dc03 Mon Sep 17 00:00:00 2001
From: Senthuran Sivananthan <senthuran.sivananthan@microsoft.com>
Date: Fri, 7 Jan 2022 13:11:07 +0000
Subject: [PATCH 20/20] Updated AKS and AppService for Linux schema to verify
 when deployments are disabled

---
 docs/archetypes/machinelearning.md            |   2 +
 schemas/latest/landingzones/types/aks.json    | 229 +++++++++--------
 .../types/appServiceLinuxContainer.json       |  94 ++++---
 .../lz-machinelearning/AKSIsFalse.json        | 228 +++++++++++++++++
 .../AppServiceLinuxContainerIsFalse.json      | 233 ++++++++++++++++++
 5 files changed, 638 insertions(+), 148 deletions(-)
 create mode 100644 tests/schemas/lz-machinelearning/AKSIsFalse.json
 create mode 100644 tests/schemas/lz-machinelearning/AppServiceLinuxContainerIsFalse.json

diff --git a/docs/archetypes/machinelearning.md b/docs/archetypes/machinelearning.md
index 72acccc..ab98766 100644
--- a/docs/archetypes/machinelearning.md
+++ b/docs/archetypes/machinelearning.md
@@ -256,9 +256,11 @@ Reference implementation uses parameter files with `object` parameters to consol
 | Deployment with SQL DB using SQL authentication | [tests/schemas/lz-machinelearning/SQLDB-sqlAuth.json](../../tests/schemas/lz-machinelearning/SQLDB-sqlAuth.json) | `parameters.sqldb.value.aadAuthenticationOnly` is false & `parameters.sqldb.value.sqlAuthenticationUsername` filled in. |
 | Deployment with SQL DB using mixed mode authentication | [tests/schemas/lz-machinelearning/SQLDB-mixedAuth.json](../../tests/schemas/lz-machinelearning/SQLDB-mixedAuth.json) | `parameters.sqldb.value.aadAuthenticationOnly` is false,  `parameters.sqldb.value.aad*` fields filled in & `parameters.sqldb.value.sqlAuthenticationUsername` filled in. |
 | Deployment without customer managed keys | [tests/schemas/lz-machinelearning/WithoutCMK.json](../../tests/schemas/lz-machinelearning/WithoutCMK.json) | `parameters.useCMK.value` is false. |
+| Deployment without AKS | [tests/schemas/lz-machinelearning/AKSIsFalse.json](../../tests/schemas/lz-machinelearning/AKSIsFalse.json) | `parameters.sqldb.value.enabled` is false. |
 | Deployment with AKS using Network Plugin: Kubenet + Network Policy: Calico | [tests/schemas/lz-machinelearning/AKS-Kubenet-Calico.json](../../tests/schemas/lz-machinelearning/AKS-Kubenet-Calico.json) | `parameters.aks.value.networkPlugin`  equals ***kubenet***, `parameters.aks.value.networkPlugin`  equals ***calico***, `parameters.aks.value.podCidr` is filled, `parameters.aks.value.serviceCidr` is filled, `parameters.aks.value.dnsServiceIP` is filled and `parameters.aks.value.dockerBridgeCidr`  is filled |
 | Deployment with AKS using Network Plugin: Azure CNI + Network Policy: Calico | [tests/schemas/lz-machinelearning/AKS-AzureCNI-Calico.json](../../tests/schemas/lz-machinelearning/AKS-AzureCNI-Calico.json) | `parameters.aks.value.networkPlugin`  equals ***azure***, `parameters.aks.value.networkPlugin`  equals ***calico***, `parameters.aks.value.podCidr` is ***empty***, `parameters.aks.value.serviceCidr` is filled, `parameters.aks.value.dnsServiceIP` is filled and `parameters.aks.value.dockerBridgeCidr`  is filled |
 | Deployment with AKS using Network Plugin: Azure CNI + Network Policy: Azure | [tests/schemas/lz-machinelearning/AKS-AzureCNI-AzureNP.json](../../tests/schemas/lz-machinelearning/AKS-AzureCNI-AzureNP.json) | `parameters.aks.value.networkPlugin`  equals ***azure***, `parameters.aks.value.networkPlugin`  equals ***azure***, `parameters.aks.value.podCidr` is ***empty***, `parameters.aks.value.serviceCidr` is filled, `parameters.aks.value.dnsServiceIP` is filled and `parameters.aks.value.dockerBridgeCidr`  is filled |
+| Deployment without Azure App Service for Linux Containers | [tests/schemas/lz-machinelearning/AppServiceLinuxContainerIsFalse.json](../../tests/schemas/lz-machinelearning/AppServiceLinuxContainerIsFalse.json) | `parameters.appServiceLinuxContainer.value.enabled` is false. |
 
 ### Example Deployment Parameters
 
diff --git a/schemas/latest/landingzones/types/aks.json b/schemas/latest/landingzones/types/aks.json
index 78d807f..1d3e808 100644
--- a/schemas/latest/landingzones/types/aks.json
+++ b/schemas/latest/landingzones/types/aks.json
@@ -1,121 +1,134 @@
 {
-  "$schema": "http://json-schema.org/draft-06/schema#", 
-  "definitions": {
-      "AKS": {
-          "type": "object",
-          "additionalProperties": false,
-          "properties": {
-              "value": {
-                "oneOf": [
-                    {
-                        "type": "object",
-                        "additionalProperties": false,
-                        "properties": {
-                            "enabled": {
-                                "type": "boolean",
-                                "enum": [
-                                    true,
-                                    false
-                                ]
+    "$schema": "http://json-schema.org/draft-06/schema#",
+    "definitions": {
+        "AKS": {
+            "type": "object",
+            "additionalProperties": false,
+            "properties": {
+                "value": {
+                    "oneOf": [
+                        {
+                            "type": "object",
+                            "additionalProperties": false,
+                            "properties": {
+                                "enabled": {
+                                    "type": "boolean",
+                                    "enum": [
+                                        true
+                                    ]
+                                },
+                                "version": {
+                                    "type": "string"
+                                },
+                                "networkPlugin": {
+                                    "type": "string",
+                                    "enum": [
+                                        "azure"
+                                    ]
+                                },
+                                "networkPolicy": {
+                                    "type": "string",
+                                    "enum": [
+                                        "azure",
+                                        "calico"
+                                    ]
+                                },
+                                "podCidr": {
+                                    "type": "string",
+                                    "enum": [
+                                        ""
+                                    ]
+                                },
+                                "serviceCidr": {
+                                    "type": "string"
+                                },
+                                "dnsServiceIP": {
+                                    "type": "string"
+                                },
+                                "dockerBridgeCidr": {
+                                    "type": "string"
+                                }
                             },
-                            "version": {
-                                "type": "string"
-                            },
-                            "networkPlugin": {
-                                "type": "string",
-                                "enum": [
-                                    "azure"
-                                ]
-                            },
-                            "networkPolicy": {
-                                "type": "string",
-                                "enum": [
-                                    "azure",
-                                    "calico"
-                                ]
-                            },
-                            "podCidr": {
-                                "type": "string",
-                                "enum": [
-                                    ""
-                                ]                                
-                            },
-                            "serviceCidr": {
-                                "type": "string"
-                            },  
-                            "dnsServiceIP": {
-                                "type": "string"
-                            },  
-                            "dockerBridgeCidr": {
-                                "type": "string"
-                            }  
-                        },   
-                        "required": [
-                            "enabled",
-                            "version",
-                            "networkPlugin",
-                            "networkPolicy",
-                            "podCidr",
-                            "serviceCidr",
-                            "dockerBridgeCidr"
-                        ]   
-                    },
-                    {
-                        "type": "object",
-                        "additionalProperties": false,
-                        "properties": {
-                        "enabled": {
-                            "type": "boolean",
-                            "enum": [
-                                true,
-                                false
+                            "required": [
+                                "enabled",
+                                "version",
+                                "networkPlugin",
+                                "networkPolicy",
+                                "podCidr",
+                                "serviceCidr",
+                                "dockerBridgeCidr"
                             ]
                         },
-                        "version": {
-                                "type": "string"
-                        },
-                        "networkPlugin": {
-                            "type": "string",
-                            "enum": [
-                                "kubenet"
+                        {
+                            "type": "object",
+                            "additionalProperties": false,
+                            "properties": {
+                                "enabled": {
+                                    "type": "boolean",
+                                    "enum": [
+                                        true
+                                    ]
+                                },
+                                "version": {
+                                    "type": "string"
+                                },
+                                "networkPlugin": {
+                                    "type": "string",
+                                    "enum": [
+                                        "kubenet"
+                                    ]
+                                },
+                                "networkPolicy": {
+                                    "type": "string",
+                                    "enum": [
+                                        "calico"
+                                    ]
+                                },
+                                "podCidr": {
+                                    "type": "string"
+                                },
+                                "serviceCidr": {
+                                    "type": "string"
+                                },
+                                "dnsServiceIP": {
+                                    "type": "string"
+                                },
+                                "dockerBridgeCidr": {
+                                    "type": "string"
+                                }
+                            },
+                            "required": [
+                                "enabled",
+                                "version",
+                                "networkPlugin",
+                                "networkPolicy",
+                                "podCidr",
+                                "serviceCidr",
+                                "dockerBridgeCidr"
                             ]
                         },
-                        "networkPolicy": {
-                            "type": "string",
-                            "enum": [
-                                "calico"
+                        {
+                            "type": "object",
+                            "additionalProperties": true,
+                            "properties": {
+                                "enabled": {
+                                    "type": "boolean",
+                                    "enum": [
+                                        false
+                                    ]
+                                }
+                            },
+                            "required": [
+                                "enabled"
                             ]
-                        },
-                        "podCidr": {
-                            "type": "string"                            
-                        },
-                        "serviceCidr": {
-                            "type": "string"
-                        },  
-                        "dnsServiceIP": {
-                            "type": "string"
-                        },  
-                        "dockerBridgeCidr": {
-                            "type": "string"
-                        }  
-                    },   
-                        "required": [
-                            "enabled",
-                            "version",
-                            "networkPlugin",
-                            "networkPolicy",
-                            "podCidr",
-                            "serviceCidr",
-                            "dockerBridgeCidr"
-                        ]  
-                    }
-                ]
-            }
-          },
+                        }
+                    ]
+                }
+            },
             "required": [
                 "value"
             ],
             "title": "AKS"
         }
     }
-}
+}
\ No newline at end of file
diff --git a/schemas/latest/landingzones/types/appServiceLinuxContainer.json b/schemas/latest/landingzones/types/appServiceLinuxContainer.json
index 2df59c4..f17a20e 100644
--- a/schemas/latest/landingzones/types/appServiceLinuxContainer.json
+++ b/schemas/latest/landingzones/types/appServiceLinuxContainer.json
@@ -1,43 +1,57 @@
 {
-    "$schema": "http://json-schema.org/draft-06/schema#",
-    "definitions": {
-      "APPSERVICELINUXCONTAINER": {
-        "type": "object",
-        "additionalProperties": false,
-        "properties": {
-          "value": {
-            "$ref": "#/definitions/Value"
-          }
-        },
-        "required": [
-          "value"
-        ],
-        "title": "AppServiceLinuxContainer"
+  "$schema": "http://json-schema.org/draft-06/schema#",
+  "definitions": {
+    "APPSERVICELINUXCONTAINER": {
+      "type": "object",
+      "additionalProperties": false,
+      "properties": {
+        "value": {
+          "oneOf": [
+            {
+              "type": "object",
+              "additionalProperties": false,
+              "properties": {
+                "enabled": {
+                  "type": "boolean",
+                  "enum": [
+                    true
+                  ]
+                },
+                "skuName": {
+                  "type": "string"
+                },
+                "skuTier": {
+                  "type": "string"
+                }
+              },
+              "required": [
+                "enabled",
+                "skuName",
+                "skuTier"
+              ]
+            },
+            {
+              "type": "object",
+              "additionalProperties": true,
+              "properties": {
+                "enabled": {
+                  "type": "boolean",
+                  "enum": [
+                    false
+                  ]
+                }
+              },
+              "required": [
+                "enabled"
+              ]
+            }
+          ]
+        }
       },
-      "Value": {
-        "type": "object",
-        "additionalProperties": false,
-        "properties": {
-          "enabled": {
-            "type": "boolean",
-            "enum": [
-                true,
-                false
-            ]
-          },
-          "skuName": {
-            "type": "string"
-          },
-          "skuTier": {
-            "type": "string"
-          }
-        },
-        "required": [
-          "enabled",
-          "skuName",
-          "skuTier"
-        ],
-        "title": "Value"
-      }
+      "required": [
+        "value"
+      ],
+      "title": "App Service Linux Container"
     }
-  }
\ No newline at end of file
+  }
+}
\ No newline at end of file
diff --git a/tests/schemas/lz-machinelearning/AKSIsFalse.json b/tests/schemas/lz-machinelearning/AKSIsFalse.json
new file mode 100644
index 0000000..b12f6df
--- /dev/null
+++ b/tests/schemas/lz-machinelearning/AKSIsFalse.json
@@ -0,0 +1,228 @@
+
+{
+    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
+    "contentVersion": "1.0.0.0",
+    "parameters": {
+      "serviceHealthAlerts": {
+        "value": {
+          "resourceGroupName": "pubsec-service-health",
+          "incidentTypes": [
+            "Incident",
+            "Security"
+          ],
+          "regions": [
+            "Global",
+            "Canada East",
+            "Canada Central"
+          ],
+          "receivers": {
+            "app": [
+              "alzcanadapubsec@microsoft.com"
+            ],
+            "email": [
+              "alzcanadapubsec@microsoft.com"
+            ],
+            "sms": [
+              {
+                "countryCode": "1",
+                "phoneNumber": "5555555555"
+              }
+            ],
+            "voice": [
+              {
+                "countryCode": "1",
+                "phoneNumber": "5555555555"
+              }
+            ]
+          },
+          "actionGroupName": "Sub3 ALZ action group",
+          "actionGroupShortName": "sub3-alert",
+          "alertRuleName": "Sub3 ALZ alert rule",
+          "alertRuleDescription": "Alert rule for Azure Landing Zone"
+        }
+      },
+      "securityCenter": {
+        "value": {
+          "email": "alzcanadapubsec@microsoft.com",
+          "phone": "5555555555"
+        }
+      },
+      "subscriptionRoleAssignments": {
+        "value": [
+          {
+            "comments": "Built-in Role: Contributor",
+            "roleDefinitionId": "b24988ac-6180-42a0-ab88-20f7382dd24c",
+            "securityGroupObjectIds": [
+              "38f33f7e-a471-4630-8ce9-c6653495a2ee"
+            ]
+          },
+          {
+            "comments": "Custom Role: Landing Zone Application Owner",
+            "roleDefinitionId": "b4c87314-c1a1-5320-9c43-779585186bcc",
+            "securityGroupObjectIds": [
+              "38f33f7e-a471-4630-8ce9-c6653495a2ee"
+            ]
+          }
+        ]
+      },
+      "subscriptionBudget": {
+        "value": {
+          "createBudget": true,
+          "name": "MonthlySubscriptionBudget",
+          "amount": 1000,
+          "timeGrain": "Monthly",
+          "contactEmails": [
+            "alzcanadapubsec@microsoft.com"
+          ]
+        }
+      },
+      "subscriptionTags": {
+        "value": {
+          "ISSO": "isso-tag"
+        }
+      },
+      "resourceTags": {
+        "value": {
+          "ClientOrganization": "client-organization-tag",
+          "CostCenter": "cost-center-tag",
+          "DataSensitivity": "data-sensitivity-tag",
+          "ProjectContact": "project-contact-tag",
+          "ProjectName": "project-name-tag",
+          "TechnicalContact": "technical-contact-tag"
+        }
+      },
+      "resourceGroups": {
+        "value": {
+          "automation": "azmlcmk102021W1Automation",
+          "compute": "azmlcmk102021W1Compute",
+          "monitor": "azmlcmk102021W1Monitor",
+          "networking": "azmlcmk102021W1Network",
+          "networkWatcher": "NetworkWatcherRG",
+          "security": "azmlcmk102021W1Security",
+          "storage": "azmlcmk102021W1Storage"
+        }
+      },
+      "useCMK": {
+        "value": true
+      },
+      "automation": {
+        "value": {
+          "name": "azmlcmk102021W1automation"
+        }
+      },
+      "keyVault": {
+        "value": {
+          "secretExpiryInDays": 3650
+        }
+      },
+      "aks": {
+        "value": {
+          "enabled": false
+        }
+      },
+      "appServiceLinuxContainer": {
+        "value": {
+          "enabled": true,
+          "skuName": "P1V3",
+          "skuTier": "Premium"
+        }
+      },
+      "sqldb": {
+        "value": {
+          "enabled": true,
+          "sqlAuthenticationUsername": "azadmin",
+          "aadAuthenticationOnly": false,
+          "aadLoginName": "DBA Group",
+          "aadLoginObjectID": "4e4ea47c-ee21-4add-ad2f-a75d0d8014e0",
+          "aadLoginType": "Group"
+        }
+      },
+      "sqlmi": {
+        "value": {
+          "enabled": true,
+          "username": "azadmin"
+        }
+      },
+      "aml": {
+        "value": {
+          "enableHbiWorkspace": false
+        }
+      },
+      "hubNetwork": {
+        "value": {
+          "virtualNetworkId": "/subscriptions/ed7f4eed-9010-4227-b115-2a5e37728f27/resourceGroups/pubsec-hub-networking-rg/providers/Microsoft.Network/virtualNetworks/hub-vnet",
+          "rfc1918IPRange": "10.18.0.0/22",
+          "rfc6598IPRange": "100.60.0.0/16",
+          "egressVirtualApplianceIp": "10.18.1.4",
+          "privateDnsManagedByHub": true,
+          "privateDnsManagedByHubSubscriptionId": "ed7f4eed-9010-4227-b115-2a5e37728f27",
+          "privateDnsManagedByHubResourceGroupName": "pubsec-dns-rg"
+        }
+      },
+      "network": {
+        "value": {
+          "peerToHubVirtualNetwork": true,
+          "useRemoteGateway": false,
+          "name": "azmlcmk102021W1vnet",
+          "dnsServers": [
+            "10.18.1.4"
+          ],
+          "addressPrefixes": [
+            "10.1.0.0/16"
+          ],
+          "subnets": {
+            "oz": {
+              "comments": "Foundational Elements Zone (OZ)",
+              "name": "oz",
+              "addressPrefix": "10.1.1.0/25"
+            },
+            "paz": {
+              "comments": "Presentation Zone (PAZ)",
+              "name": "paz",
+              "addressPrefix": "10.1.2.0/25"
+            },
+            "rz": {
+              "comments": "Application Zone (RZ)",
+              "name": "rz",
+              "addressPrefix": "10.1.3.0/25"
+            },
+            "hrz": {
+              "comments": "Data Zone (HRZ)",
+              "name": "hrz",
+              "addressPrefix": "10.1.4.0/25"
+            },
+            "sqlmi": {
+              "comments": "SQL Managed Instances Delegated Subnet",
+              "name": "sqlmi",
+              "addressPrefix": "10.1.5.0/25"
+            },
+            "databricksPublic": {
+              "comments": "Databricks Public Delegated Subnet",
+              "name": "databrickspublic",
+              "addressPrefix": "10.1.6.0/25"
+            },
+            "databricksPrivate": {
+              "comments": "Databricks Private Delegated Subnet",
+              "name": "databricksprivate",
+              "addressPrefix": "10.1.7.0/25"
+            },
+            "privateEndpoints": {
+              "comments": "Private Endpoints Subnet",
+              "name": "privateendpoints",
+              "addressPrefix": "10.1.8.0/25"
+            },
+            "aks": {
+              "comments": "AKS Subnet",
+              "name": "aks",
+              "addressPrefix": "10.1.9.0/25"
+            },
+            "appService": {
+              "comments": "App Service Subnet",
+              "name": "appService",
+              "addressPrefix": "10.1.10.0/25"
+            }
+          }
+        }
+      }
+    }
+  }
\ No newline at end of file
diff --git a/tests/schemas/lz-machinelearning/AppServiceLinuxContainerIsFalse.json b/tests/schemas/lz-machinelearning/AppServiceLinuxContainerIsFalse.json
new file mode 100644
index 0000000..418c316
--- /dev/null
+++ b/tests/schemas/lz-machinelearning/AppServiceLinuxContainerIsFalse.json
@@ -0,0 +1,233 @@
+
+{
+    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
+    "contentVersion": "1.0.0.0",
+    "parameters": {
+      "serviceHealthAlerts": {
+        "value": {
+          "resourceGroupName": "pubsec-service-health",
+          "incidentTypes": [
+            "Incident",
+            "Security"
+          ],
+          "regions": [
+            "Global",
+            "Canada East",
+            "Canada Central"
+          ],
+          "receivers": {
+            "app": [
+              "alzcanadapubsec@microsoft.com"
+            ],
+            "email": [
+              "alzcanadapubsec@microsoft.com"
+            ],
+            "sms": [
+              {
+                "countryCode": "1",
+                "phoneNumber": "5555555555"
+              }
+            ],
+            "voice": [
+              {
+                "countryCode": "1",
+                "phoneNumber": "5555555555"
+              }
+            ]
+          },
+          "actionGroupName": "Sub3 ALZ action group",
+          "actionGroupShortName": "sub3-alert",
+          "alertRuleName": "Sub3 ALZ alert rule",
+          "alertRuleDescription": "Alert rule for Azure Landing Zone"
+        }
+      },
+      "securityCenter": {
+        "value": {
+          "email": "alzcanadapubsec@microsoft.com",
+          "phone": "5555555555"
+        }
+      },
+      "subscriptionRoleAssignments": {
+        "value": [
+          {
+            "comments": "Built-in Role: Contributor",
+            "roleDefinitionId": "b24988ac-6180-42a0-ab88-20f7382dd24c",
+            "securityGroupObjectIds": [
+              "38f33f7e-a471-4630-8ce9-c6653495a2ee"
+            ]
+          },
+          {
+            "comments": "Custom Role: Landing Zone Application Owner",
+            "roleDefinitionId": "b4c87314-c1a1-5320-9c43-779585186bcc",
+            "securityGroupObjectIds": [
+              "38f33f7e-a471-4630-8ce9-c6653495a2ee"
+            ]
+          }
+        ]
+      },
+      "subscriptionBudget": {
+        "value": {
+          "createBudget": true,
+          "name": "MonthlySubscriptionBudget",
+          "amount": 1000,
+          "timeGrain": "Monthly",
+          "contactEmails": [
+            "alzcanadapubsec@microsoft.com"
+          ]
+        }
+      },
+      "subscriptionTags": {
+        "value": {
+          "ISSO": "isso-tag"
+        }
+      },
+      "resourceTags": {
+        "value": {
+          "ClientOrganization": "client-organization-tag",
+          "CostCenter": "cost-center-tag",
+          "DataSensitivity": "data-sensitivity-tag",
+          "ProjectContact": "project-contact-tag",
+          "ProjectName": "project-name-tag",
+          "TechnicalContact": "technical-contact-tag"
+        }
+      },
+      "resourceGroups": {
+        "value": {
+          "automation": "azmlcmk102021W1Automation",
+          "compute": "azmlcmk102021W1Compute",
+          "monitor": "azmlcmk102021W1Monitor",
+          "networking": "azmlcmk102021W1Network",
+          "networkWatcher": "NetworkWatcherRG",
+          "security": "azmlcmk102021W1Security",
+          "storage": "azmlcmk102021W1Storage"
+        }
+      },
+      "useCMK": {
+        "value": true
+      },
+      "automation": {
+        "value": {
+          "name": "azmlcmk102021W1automation"
+        }
+      },
+      "keyVault": {
+        "value": {
+          "secretExpiryInDays": 3650
+        }
+      },
+      "aks": {
+        "value": {
+          "version": "1.21.2",
+          "enabled": true,
+          "networkPlugin": "azure" ,
+          "networkPolicy": "azure",
+          "podCidr": "",
+          "serviceCidr": "20.0.0.0/16" ,
+          "dnsServiceIP": "20.0.0.10",
+          "dockerBridgeCidr": "30.0.0.1/16"
+        }
+      },
+      "appServiceLinuxContainer": {
+        "value": {
+          "enabled": false
+        }
+      },
+      "sqldb": {
+        "value": {
+          "enabled": true,
+          "sqlAuthenticationUsername": "azadmin",
+          "aadAuthenticationOnly": false,
+          "aadLoginName": "DBA Group",
+          "aadLoginObjectID": "4e4ea47c-ee21-4add-ad2f-a75d0d8014e0",
+          "aadLoginType": "Group"
+        }
+      },
+      "sqlmi": {
+        "value": {
+          "enabled": true,
+          "username": "azadmin"
+        }
+      },
+      "aml": {
+        "value": {
+          "enableHbiWorkspace": false
+        }
+      },
+      "hubNetwork": {
+        "value": {
+          "virtualNetworkId": "/subscriptions/ed7f4eed-9010-4227-b115-2a5e37728f27/resourceGroups/pubsec-hub-networking-rg/providers/Microsoft.Network/virtualNetworks/hub-vnet",
+          "rfc1918IPRange": "10.18.0.0/22",
+          "rfc6598IPRange": "100.60.0.0/16",
+          "egressVirtualApplianceIp": "10.18.1.4",
+          "privateDnsManagedByHub": true,
+          "privateDnsManagedByHubSubscriptionId": "ed7f4eed-9010-4227-b115-2a5e37728f27",
+          "privateDnsManagedByHubResourceGroupName": "pubsec-dns-rg"
+        }
+      },
+      "network": {
+        "value": {
+          "peerToHubVirtualNetwork": true,
+          "useRemoteGateway": false,
+          "name": "azmlcmk102021W1vnet",
+          "dnsServers": [
+            "10.18.1.4"
+          ],
+          "addressPrefixes": [
+            "10.1.0.0/16"
+          ],
+          "subnets": {
+            "oz": {
+              "comments": "Foundational Elements Zone (OZ)",
+              "name": "oz",
+              "addressPrefix": "10.1.1.0/25"
+            },
+            "paz": {
+              "comments": "Presentation Zone (PAZ)",
+              "name": "paz",
+              "addressPrefix": "10.1.2.0/25"
+            },
+            "rz": {
+              "comments": "Application Zone (RZ)",
+              "name": "rz",
+              "addressPrefix": "10.1.3.0/25"
+            },
+            "hrz": {
+              "comments": "Data Zone (HRZ)",
+              "name": "hrz",
+              "addressPrefix": "10.1.4.0/25"
+            },
+            "sqlmi": {
+              "comments": "SQL Managed Instances Delegated Subnet",
+              "name": "sqlmi",
+              "addressPrefix": "10.1.5.0/25"
+            },
+            "databricksPublic": {
+              "comments": "Databricks Public Delegated Subnet",
+              "name": "databrickspublic",
+              "addressPrefix": "10.1.6.0/25"
+            },
+            "databricksPrivate": {
+              "comments": "Databricks Private Delegated Subnet",
+              "name": "databricksprivate",
+              "addressPrefix": "10.1.7.0/25"
+            },
+            "privateEndpoints": {
+              "comments": "Private Endpoints Subnet",
+              "name": "privateendpoints",
+              "addressPrefix": "10.1.8.0/25"
+            },
+            "aks": {
+              "comments": "AKS Subnet",
+              "name": "aks",
+              "addressPrefix": "10.1.9.0/25"
+            },
+            "appService": {
+              "comments": "App Service Subnet",
+              "name": "appService",
+              "addressPrefix": "10.1.10.0/25"
+            }
+          }
+        }
+      }
+    }
+  }
\ No newline at end of file
-- 
2.34.1

